default:
  image: python:3.10

stages:
  - build
  - test
  - deploy

test:
  before_script:
    - pip install mypy
    - mypy --version
    - pip install aioresponses packaging
    - pip install jq aiohttp lxml diskcache
  script:
    - mypy --namespace-packages --explicit-package-bases --check-untyped-defs pid_resolver_lib/*.py # https://mypy.readthedocs.io/en/stable/running_mypy.html#mapping-file-paths-to-modules
    - python3 -m unittest discover -s tests -t tests
